{
  "definition": {
    "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2019-05-01/workflowDefinition.json",
    "contentVersion": "1.0.0.0",
    "actions": {
      "Invoke_Agent_Function": {
        "type": "Http",
        "inputs": {
          "method": "POST",
          "uri": "https://<YOUR-FUNCTION-APP-URL>/trigger-agent?code=<FUNCTION-KEY>",
          "headers": {
            "Content-Type": "application/json"
          },
          "body": {
            "user_id": "shabeer-root",
            "action": "invoke_adapter",
            "data": {
              "agent": "MCP:LeadNurture",
              "channel": "email",
              "payload": { "campaign_id": "spring-2025" }
            }
          }
        },
        "runAfter": {}
      }
    },
    "triggers": {
      "manual": {
        "type": "Request",
        "kind": "Http",
        "inputs": {
          "schema": {}
        }
      }
    }
  }
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Infinity - Boardroom Conversations</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f7;
            color: #1d1d1f;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 600;
        }
        
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .sidebar {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            height: fit-content;
        }
        
        .main-content {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .agent-list {
            margin-bottom: 30px;
        }
        
        .agent-item {
            display: flex;
            align-items: center;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #e5e5e7;
        }
        
        .agent-item:hover {
            background-color: #f0f0f2;
            transform: translateX(4px);
        }
        
        .agent-item.selected {
            background-color: #007aff;
            color: white;
        }
        
        .agent-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .agent-info h4 {
            margin: 0;
            font-size: 1.1em;
        }
        
        .agent-info p {
            margin: 4px 0 0 0;
            font-size: 0.9em;
            opacity: 0.7;
        }
        
        .conversation-list {
            margin-top: 20px;
        }
        
        .conversation-item {
            border: 1px solid #e5e5e7;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.2s ease;
        }
        
        .conversation-item:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        
        .conversation-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .conversation-title {
            font-weight: 600;
            font-size: 1.2em;
            color: #1d1d1f;
            margin: 0;
        }
        
        .conversation-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-draft { background: #fff3cd; color: #856404; }
        .status-signed { background: #d4edda; color: #155724; }
        .status-completed { background: #d1ecf1; color: #0c5460; }
        .status-pending { background: #f8d7da; color: #721c24; }
        
        .conversation-meta {
            display: flex;
            gap: 20px;
            font-size: 0.9em;
            color: #666;
            margin-bottom: 12px;
        }
        
        .conversation-content {
            color: #333;
            line-height: 1.5;
            margin-bottom: 12px;
        }
        
        .conversation-signatures {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .signature {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .signature-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #28a745;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.7em;
            margin-right: 10px;
        }
        
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        
        .btn-primary {
            background: #007aff;
            color: white;
        }
        
        .btn-primary:hover {
            background: #0056cc;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #545b62;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        .empty-state h3 {
            margin-bottom: 10px;
            color: #333;
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🤖 Business Infinity</h1>
        <p>Boardroom Conversations & Agent Communications</p>
    </div>

    <div class="dashboard">
        <div class="sidebar">
            <h3>🎭 Boardroom Agents</h3>
            <div class="agent-list" id="agentList">
                <div class="loading">Loading agents...</div>
            </div>
            
            <div class="controls">
                <button class="btn btn-primary" onclick="refreshConversations()">🔄 Refresh</button>
                <button class="btn btn-secondary" onclick="showCreateDialog()">➕ New</button>
            </div>
        </div>

        <div class="main-content">
            <div class="controls">
                <select id="statusFilter" onchange="filterConversations()">
                    <option value="">All Statuses</option>
                    <option value="draft">Draft</option>
                    <option value="signed">Signed</option>
                    <option value="completed">Completed</option>
                    <option value="pending">Pending</option>
                </select>
                
                <select id="typeFilter" onchange="filterConversations()">
                    <option value="">All Types</option>
                    <option value="strategic_frame">Strategic</option>
                    <option value="investment_decision">Investment</option>
                    <option value="technical_decision">Technical</option>
                    <option value="budget_commitment">Financial</option>
                </select>
            </div>
            
            <div class="conversation-list" id="conversationList">
                <div class="loading">Loading conversations...</div>
            </div>
        </div>
    </div>

    <script>
        // Mock data for demonstration
        const mockAgents = [
            { id: 'founder', name: 'Founder', role: 'Vision Steward', conversations: 12 },
            { id: 'ceo', name: 'CEO', role: 'Organizational Steward', conversations: 18 },
            { id: 'cfo', name: 'CFO', role: 'Financial Steward', conversations: 15 },
            { id: 'cto', name: 'CTO', role: 'Technology Steward', conversations: 22 },
            { id: 'cmo', name: 'CMO', role: 'Market Steward', conversations: 8 },
            { id: 'coo', name: 'COO', role: 'Operational Steward', conversations: 14 },
            { id: 'investor', name: 'Investor', role: 'Resource Steward', conversations: 6 }
        ];
        
        const mockConversations = [
            {
                id: '1',
                title: 'AI Strategy Framework 2024',
                type: 'strategic_frame',
                champion: 'Founder',
                status: 'completed',
                content: 'Comprehensive AI strategy for next fiscal year focusing on infrastructure and talent acquisition.',
                created_at: '2024-01-15T10:00:00Z',
                signatures: [
                    { signer_name: 'Sarah Chen', signer_role: 'Founder', timestamp: '2024-01-15T14:30:00Z' }
                ]
            },
            {
                id: '2',
                title: 'Series A Funding Round',
                type: 'investment_decision',
                champion: 'Investor',
                status: 'signed',
                content: 'Proposal for $5M Series A funding round to accelerate product development and market expansion.',
                created_at: '2024-01-14T09:00:00Z',
                signatures: [
                    { signer_name: 'Michael Rodriguez', signer_role: 'Investor', timestamp: '2024-01-14T15:45:00Z' },
                    { signer_name: 'Lisa Kim', signer_role: 'CFO', timestamp: '2024-01-15T09:15:00Z' }
                ]
            },
            {
                id: '3',
                title: 'Q1 Budget Allocation',
                type: 'budget_commitment',
                champion: 'CFO',
                status: 'draft',
                content: 'Quarterly budget allocation focusing on R&D and infrastructure improvements.',
                created_at: '2024-01-16T08:00:00Z',
                signatures: []
            }
        ];
        
        let selectedAgent = null;
        let allConversations = mockConversations;
        
        function initializePage() {
            loadAgents();
            loadConversations();
        }
        
        function loadAgents() {
            const agentList = document.getElementById('agentList');
            
            const agentHTML = mockAgents.map(agent => `
                <div class="agent-item" onclick="selectAgent('${agent.id}')">
                    <div class="agent-avatar">${agent.name.charAt(0)}</div>
                    <div class="agent-info">
                        <h4>${agent.name}</h4>
                        <p>${agent.role} • ${agent.conversations} conversations</p>
                    </div>
                </div>
            `).join('');
            
            agentList.innerHTML = agentHTML;
        }
        
        function selectAgent(agentId) {
            selectedAgent = agentId;
            
            // Update UI
            document.querySelectorAll('.agent-item').forEach(item => item.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            
            // Filter conversations
            filterConversations();
        }
        
        function loadConversations() {
            displayConversations(allConversations);
        }
        
        function displayConversations(conversations) {
            const conversationList = document.getElementById('conversationList');
            
            if (conversations.length === 0) {
                conversationList.innerHTML = `
                    <div class="empty-state">
                        <h3>No conversations found</h3>
                        <p>Try adjusting your filters or create a new conversation</p>
                    </div>
                `;
                return;
            }
            
            const conversationHTML = conversations.map(conv => `
                <div class="conversation-item">
                    <div class="conversation-header">
                        <h3 class="conversation-title">${conv.title}</h3>
                        <span class="conversation-status status-${conv.status}">${conv.status}</span>
                    </div>
                    
                    <div class="conversation-meta">
                        <span>👑 Champion: ${conv.champion}</span>
                        <span>📅 ${new Date(conv.created_at).toLocaleDateString()}</span>
                        <span>🏷️ ${conv.type.replace('_', ' ')}</span>
                    </div>
                    
                    <div class="conversation-content">
                        ${conv.content}
                    </div>
                    
                    ${conv.signatures.length > 0 ? `
                        <div class="conversation-signatures">
                            <strong>Signatures:</strong>
                            ${conv.signatures.map(sig => `
                                <div class="signature">
                                    <div class="signature-icon">✓</div>
                                    <span>${sig.signer_name} (${sig.signer_role}) - ${new Date(sig.timestamp).toLocaleString()}</span>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
            
            conversationList.innerHTML = conversationHTML;
        }
        
        function filterConversations() {
            const statusFilter = document.getElementById('statusFilter').value;
            const typeFilter = document.getElementById('typeFilter').value;
            
            let filtered = allConversations;
            
            // Filter by selected agent
            if (selectedAgent) {
                const agentName = mockAgents.find(a => a.id === selectedAgent)?.name;
                filtered = filtered.filter(conv => conv.champion === agentName);
            }
            
            // Filter by status
            if (statusFilter) {
                filtered = filtered.filter(conv => conv.status === statusFilter);
            }
            
            // Filter by type
            if (typeFilter) {
                filtered = filtered.filter(conv => conv.type === typeFilter);
            }
            
            displayConversations(filtered);
        }
        
        function refreshConversations() {
            document.getElementById('conversationList').innerHTML = '<div class="loading">Refreshing conversations...</div>';
            
            // Simulate API call
            setTimeout(() => {
                loadConversations();
            }, 1000);
        }
        
        function showCreateDialog() {
            alert('Create New Conversation feature would open a modal dialog here.\n\nThis would integrate with the Business Infinity API endpoints:\n- POST /conversations\n- POST /conversations/a2a');
        }
        
        // Auto-refresh every 30 seconds
        setInterval(refreshConversations, 30000);
        
        // Initialize page
        initializePage();
    </script>
</body>
</html>